<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}GreenGear - Farm Equipment Rental{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
        <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="{% url 'home' %}">
                    <i class="fas fa-tractor"></i>
                    GreenGear
                </a>
            </div>
            <div class="nav-menu" id="navMenu">
                <a href="{% url 'home' %}" class="nav-link">Home</a>
                <a href="{% url 'equipment:list' %}" class="nav-link">Explore Equipment</a>
                <a href="{% url 'services' %}" class="nav-link">Services</a>
                <a href="{% url 'about' %}" class="nav-link">About</a>
                <a href="{% url 'contact' %}" class="nav-link">Contact</a>
                
                {% if user.is_authenticated %}
                    <div class="nav-dropdown">
                        <button class="nav-dropbtn">
                            <i class="fas fa-user-circle"></i>
                            {{ user.username }}
                            <i class="fas fa-caret-down"></i>
                        </button>
                        <div class="nav-dropdown-content">
                            {% if user.role == 'farmer' %}
                                <a href="{% url 'users:farmer_dashboard' %}">My Dashboard</a>
                                <a href="{% url 'bookings:farmer_list' %}">My Bookings</a>
                            {% elif user.role == 'owner' %}
                                <a href="{% url 'users:owner_dashboard' %}">Owner Dashboard</a>
                                <a href="{% url 'bookings:owner_list' %}">Booking Requests</a>
                            {% endif %}
                            <a href="{% url 'users:profile' %}">My Profile</a>
                            <a href="{% url 'users:logout' %}">Logout</a>
                        </div>
                    </div>
                {% else %}
                    <div class="nav-auth">
                        <a href="{% url 'users:login' %}" class="nav-link">Login</a>
                        <div class="nav-dropdown">
                            <button class="nav-register-btn">
                                Register 
                                <i class="fas fa-caret-down"></i>
                            </button>
                            <div class="nav-dropdown-content">
                                <a href="{% url 'users:register_farmer' %}">As Farmer</a>
                                <a href="{% url 'users:register_owner' %}">As Equipment Owner</a>
                            </div>
                        </div>
                    </div>
                {% endif %}
            </div>
            <div class="nav-toggle" id="navToggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>

         <!-- Messages Display -->
        {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                {{ message }}
                <button class="close-message" onclick="this.parentElement.style.display='none'">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3><i class="fas fa-tractor"></i> GreenGear</h3>
                <p>Connecting farmers with equipment owners for sustainable agriculture.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="{% url 'home' %}">Home</a>
                <a href="{% url 'equipment:list' %}">Explore Equipment</a>
                <a href="{% url 'services' %}">Services</a>
                <a href="{% url 'about' %}">About Us</a>
            </div>
            <div class="footer-section">
                <h4>Support</h4>
                <a href="{% url 'contact' %}">Contact Us</a>
                <a href="#">FAQ</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
            <div class="footer-section">
                <h4>Contact Info</h4>
                <p><i class="fas fa-map-marker-alt"></i> 123 Ashok nagar, Tathawde, Pune</p>
                <p><i class="fas fa-phone"></i>+91 9262911472</p>
                <p><i class="fas fa-envelope"></i> info@greengear.com</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 GreenGear. All rights reserved.</p>
        </div>
    </footer>

    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>